{"ast":null,"code":"import _slicedToArray from \"/Users/jubayer/Desktop/neighbourgen-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/jubayer/Desktop/neighbourgen-frontend/src/Components/Post.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axiosConfig from './axiosConfig';\nimport './CSS/Post.css';\nvar Post = function Post(props) {\n  var post = props.data;\n  var _useState = useState(post.reactions),\n    _useState2 = _slicedToArray(_useState, 2),\n    reactions = _useState2[0],\n    setReactions = _useState2[1];\n  var _useState3 = useState(post.hasReacted === 1 ? \"Unlike\" : \"Like\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    reaacted = _useState4[0],\n    setReaacted = _useState4[1];\n  var _useState5 = useState(post.hasReacted === 1 ? \"true\" : \"false\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    hasReacted = _useState6[0],\n    setHasReacted = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    comment = _useState8[0],\n    setComment = _useState8[1];\n  var _useState9 = useState(post.comments),\n    _useState10 = _slicedToArray(_useState9, 2),\n    comments = _useState10[0],\n    setComments = _useState10[1];\n  var navigate = useNavigate();\n  var like = function like() {\n    if (reaacted === \"Like\") {\n      setReaacted(\"Unlike\");\n      setReactions(reactions + 1);\n    } else {\n      setReaacted(\"Like\");\n      setReactions(reactions - 1);\n    }\n    var obj = {\n      post_id: post.post.id,\n      hasReacted: hasReacted\n    };\n    axiosConfig.post(\"reaction\", obj).then(function (resp) {\n      console.log(resp.data);\n      setHasReacted(hasReacted === \"true\" ? \"false\" : \"true\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n  var addComment = function addComment() {\n    var obj = {\n      comment: comment\n    };\n    axiosConfig.post(\"post/\" + post.post.id, obj).then(function (resp) {\n      console.log(resp.data);\n      setComments(comments + 1);\n      setComment(\"\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n  var details = function details() {\n    navigate(\"/post/\" + post.post.id);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"postDetails\",\n    onClick: details,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"card-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, post.creator.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, post.post.title), reactions, \" Reactions | \", comments, \" Comments\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 64\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 73\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"reaction\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"buttonReaction\",\n    onClick: like,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, reaacted), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"inputComment\",\n    type: \"text\",\n    value: comment,\n    onChange: function onChange(e) {\n      return setComment(e.target.value);\n    },\n    placeholder: \"Write Comment\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"buttonComment\",\n    onClick: addComment,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"Comment\"))));\n};\nexport default Post;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","axiosConfig","Post","props","post","data","reactions","setReactions","hasReacted","reaacted","setReaacted","setHasReacted","comment","setComment","comments","setComments","navigate","like","obj","post_id","id","then","resp","console","log","catch","err","addComment","details","creator","name","title","e","target","value"],"sources":["/Users/jubayer/Desktop/neighbourgen-frontend/src/Components/Post.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport {Link, useNavigate,} from \"react-router-dom\";\nimport axiosConfig from './axiosConfig';\nimport './CSS/Post.css'\n\nconst Post = (props) => {\n    const post = props.data;\n    let[reactions, setReactions] = useState(post.reactions);\n    let[reaacted, setReaacted] = useState(post.hasReacted === 1 ? \"Unlike\" : \"Like\");\n    let[hasReacted, setHasReacted] = useState(post.hasReacted === 1 ? \"true\" : \"false\");\n    let[comment, setComment] = useState(\"\");\n    let[comments, setComments] = useState(post.comments);\n    let navigate = useNavigate();\n\n    const like = () => {\n        if(reaacted === \"Like\"){\n            setReaacted(\"Unlike\");\n            setReactions(reactions+1);\n        }else{\n            setReaacted(\"Like\");\n            setReactions(reactions-1);\n        }\n        var obj = {post_id: post.post.id, hasReacted: hasReacted};\n        axiosConfig.post(\"reaction\", obj)\n            .then(resp=>{\n                console.log(resp.data);\n                setHasReacted(hasReacted === \"true\" ? \"false\" : \"true\");\n            }\n            ).catch(err=>{\n                console.log(err);\n            }\n        );\n    }\n    const addComment = () => {\n        var obj = {comment: comment};\n        axiosConfig.post(\"post/\"+post.post.id, obj)\n            .then(resp=>{\n                console.log(resp.data);\n                setComments(comments+1);\n                setComment(\"\");\n            }\n            ).catch(err=>{\n                console.log(err);\n            }\n        );\n    }\n    const details = () => {\n        navigate(\"/post/\"+post.post.id);\n    }\n    return(\n        <div>\n            <div className=\"post\">\n                <div className=\"postDetails\" onClick={details}>\n                    <h4 className=\"card-title\">{post.creator.name}</h4>\n                    <p className=\"card-text\">{post.post.title}</p>\n                    {reactions} Reactions | {comments} Comments<br></br><br></br>\n                </div>\n                <div className=\"reaction\">\n                    <button className=\"buttonReaction\" onClick={like}>{reaacted}</button>\n                    <input className=\"inputComment\" type=\"text\" value={comment} onChange={(e)=>setComment(e.target.value)} placeholder=\"Write Comment\"></input>\n                    <button className=\"buttonComment\" onClick={addComment}>Comment</button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Post;"],"mappings":"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"},"metadata":{},"sourceType":"module"}